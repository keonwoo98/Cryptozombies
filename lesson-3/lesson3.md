# **Cryptozombies[lesson3]**

> **크립토좀비로 솔리디티 공부하기** [링크](https://cryptozombies.io)

## **1. 컨트랙트의 불변성**

지금까지는 솔리디티는 자바스크립트 같은 다른 언어와 꽤 비슷해보였을 것이다. 하지만 이더리움 `DApp`에는 일반적인 애플리케이션과는 다른 여러가지 특성이 있다.

첫째로, 이더리움에 컨트랙트를 배포하고 나면, 컨트랙트는 `변하지 않는다.(Immutable)` 다시 말하자면 컨트랙트를 수정하거나 업데이트할 수 없다는 것이다.

컨트랙트로 배포한 최초의 코드는 항상, 블록체인에 영구적으로 존재한다. 이것이 바로 솔리디티에 있어서 보안이 굉장히 큰 이슈인 이유이다. 만약 내가 배포한 컨트랙트 코드에 결점이 있어도 그것을 이후에 고칠 수 있는 방법이 전혀 없다. 사용자들에게 결점을 보안한 다른 스마트 컨트랙트 주소를 쓰라고 말하고 다니라고 할 수 밖에 없을 것이다.

그러나 이것 또한 스마트 컨트랙트의 한 특징이다. 코드는 곧 법인 것이다. 내가 어떤 스마트 컨트랙트의 코드를 읽고 검증을 했다면, 내가 함수를 호출할 때마다, 코드에 쓰여진 그대로 함수가 실행될 것이라고 확신할 수 있다. 그 누구도 배포 이후에 함수를 수정하거나 예상치 못한 결과를 발생시키지 못한다.

### **외부 의존성**

lesson2에서 우리는 크립토키티 컨트랙트의 주소를 우리 `DApp`에서 직접 써넣었다. 그런데 만약 크립토키티 컨트랙트에 버그가 있었고, 누군가 모든 고양이들을 파괴해버렸다면 어떻게 될까?

그럴 일은 잘 없겠지만, 만약 그런 일이 발생한다면 우리의 `DApp`은 완전히 쓸모가 없어질 것이다. 우리 `DApp`은 주소를 코드에 직접 써넣기 때문에 얻던 고양이들도 받아올 수 없을 것이다. 우리 좀비들은 고양이를 먹을 수 없을 것이고, 우리는 그걸 고치기 위해 우리의 컨트랙트를 수정할 수도 없을 것이다.

이런 이유로, 대개의 경우 내 `DApp`의 중요한 일부를 수정할 수 있도록 하는 함수를 만들어놓는 것이 합리적일 것이다.

예를 들면 우리 `DApp`에 크립토키티 컨트랙트 주소를 직접 써넣는 것 대신, 언젠가 크립토키티 컨트랙트에 문제가 생기면 해당 주소를 바꿀 수 있도록 해주는 `setKittyContractAddress`함수를 만들 수 있을 것이다.

## **2. 소유 가능한 컨트랙트**

그렇다고 `setKittyContractAddress`함수를 `external`로 선언해주면 누구든 이 함수를 호출할 수 있기 때문에 아무나 크립토키티 컨트랙트의 주소를 바꿀 수 있게 되어서 앱을 무용지물로 만들어 버릴 수가 있다.

이런 경우를 대처하기 위해서, 최근에 주로 쓰는 하나의 방법은 컨트랙트를 `소유 기능`하게 만드는 것이다. 컨트랙트를 대상으로 특별한 권리를 가지는 소유자가 있음을 의미하는 것이다.

### **OpenZeppelin의 `Ownable` 컨트랙트**

